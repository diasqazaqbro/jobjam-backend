import { Injectable, Logger } from "@nestjs/common";
import { ConfigService } from "@nestjs/config";
import OpenAI from "openai";

export interface GenerateResumeParams {
  vacancyTitle: string;
  vacancyDescription: string;
  vacancyRequirements?: string;
  vacancyResponsibilities?: string;
  vacancySkills?: string[];
  company: string;
  userFirstName: string;
  userLastName: string;
  userEmail: string;
  // User profile data for AI to enhance/tailor
  userExperience?: Array<{
    company: string;
    position: string;
    description: string;
    start: string;
    end?: string | null;
  }>;
  userEducation?: {
    level: string;
    name: string;
    organization: string;
    year: number;
  } | null;
}

export interface GeneratedResume {
  title: string;
  skills: string[];
  experience?: Array<{
    company: string;
    position: string;
    description: string;
    start: string;
    end?: string;
  }>;
  education?: {
    level: string;
    name: string;
    organization?: string;
    year: number;
  };
}

@Injectable()
export class OpenAIService {
  private readonly logger = new Logger(OpenAIService.name);
  private readonly client: OpenAI;

  constructor(private configService: ConfigService) {
    const apiKey = this.configService.get<string>("OPENAI_API_KEY");
    if (!apiKey) {
      this.logger.warn("OPENAI_API_KEY not configured");
    }
    this.client = new OpenAI({
      apiKey: apiKey || "dummy-key",
    });
  }

  /**
   * Generate resume based on vacancy details using AI
   */
  async generateResumeForVacancy(
    params: GenerateResumeParams
  ): Promise<GeneratedResume> {
    try {
      const prompt = this.buildPrompt(params);

      this.logger.log(
        "ğŸ¤– Ğ“ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ñ Ñ€ĞµĞ·ÑĞ¼Ğµ Ñ AI Ğ´Ğ»Ñ Ğ²Ğ°ĞºĞ°Ğ½ÑĞ¸Ğ¸: " + params.vacancyTitle
      );
      this.logger.log(`   ĞœĞ¾Ğ´ĞµĞ»ÑŒ: gpt-4o-mini`);
      this.logger.log(`   Ğ¢ĞµĞ¼Ğ¿ĞµÑ€Ğ°Ñ‚ÑƒÑ€Ğ°: 0.7`);

      const response = await this.client.chat.completions.create({
        model: "gpt-4o-mini",
        messages: [
          {
            role: "system",
            content: `Ğ¢Ñ‹ - Ğ¿Ñ€Ğ¾Ñ„ĞµÑÑĞ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¹ HR-ĞºĞ¾Ğ½ÑÑƒĞ»ÑŒÑ‚Ğ°Ğ½Ñ‚ Ğ¸ ÑĞºÑĞ¿ĞµÑ€Ñ‚ Ğ¿Ğ¾ ÑĞ¾ÑÑ‚Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ñ Ñ€ĞµĞ·ÑĞ¼Ğµ Ğ´Ğ»Ñ ĞºĞ°Ğ·Ğ°Ñ…ÑÑ‚Ğ°Ğ½ÑĞºĞ¾Ğ³Ğ¾ Ñ€Ñ‹Ğ½ĞºĞ° Ñ‚Ñ€ÑƒĞ´Ğ° Ñ 10-Ğ»ĞµÑ‚Ğ½Ğ¸Ğ¼ Ğ¾Ğ¿Ñ‹Ñ‚Ğ¾Ğ¼ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‹.

Ğ¢Ğ²Ğ¾Ñ Ğ·Ğ°Ğ´Ğ°Ñ‡Ğ° - ÑĞ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ Ğ¡Ğ˜Ğ›Ğ¬ĞĞĞ•, ĞšĞĞĞšĞ£Ğ Ğ•ĞĞ¢ĞĞĞ• Ñ€ĞµĞ·ÑĞ¼Ğµ, ĞºĞ¾Ñ‚Ğ¾Ñ€Ğ¾Ğµ:
1. ĞœĞ°ĞºÑĞ¸Ğ¼Ğ°Ğ»ÑŒĞ½Ğ¾ ÑĞ¾Ğ¾Ñ‚Ğ²ĞµÑ‚ÑÑ‚Ğ²ÑƒĞµÑ‚ Ñ‚Ñ€ĞµĞ±Ğ¾Ğ²Ğ°Ğ½Ğ¸ÑĞ¼ ĞºĞ¾Ğ½ĞºÑ€ĞµÑ‚Ğ½Ğ¾Ğ¹ Ğ²Ğ°ĞºĞ°Ğ½ÑĞ¸Ğ¸
2. Ğ’Ñ‹Ğ´ĞµĞ»ÑĞµÑ‚ ĞºĞ°Ğ½Ğ´Ğ¸Ğ´Ğ°Ñ‚Ğ° ÑÑ€ĞµĞ´Ğ¸ Ğ´Ñ€ÑƒĞ³Ğ¸Ñ… ÑĞ¾Ğ¸ÑĞºĞ°Ñ‚ĞµĞ»ĞµĞ¹
3. Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµÑ‚ Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»ÑŒĞ½Ñ‹Ğµ ĞºĞ»ÑÑ‡ĞµĞ²Ñ‹Ğµ ÑĞ»Ğ¾Ğ²Ğ° Ğ¸Ğ· Ğ¾Ğ¿Ğ¸ÑĞ°Ğ½Ğ¸Ñ Ğ²Ğ°ĞºĞ°Ğ½ÑĞ¸Ğ¸
4. Ğ¡Ğ¾Ğ´ĞµÑ€Ğ¶Ğ¸Ñ‚ ĞºĞ¾Ğ½ĞºÑ€ĞµÑ‚Ğ½Ñ‹Ğµ Ğ´Ğ¾ÑÑ‚Ğ¸Ğ¶ĞµĞ½Ğ¸Ñ Ğ¸ Ğ¼ĞµÑ‚Ñ€Ğ¸ĞºĞ¸
5. ĞĞ°Ğ¿Ğ¸ÑĞ°Ğ½Ğ¾ Ğ¿Ñ€Ğ¾Ñ„ĞµÑÑĞ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¼ ÑĞ·Ñ‹ĞºĞ¾Ğ¼

Ğ’ĞĞ–ĞĞ:
- ĞŸĞ¸ÑˆĞ¸ ĞšĞĞĞšĞ Ğ•Ğ¢ĞĞ Ğ¸ Ğ˜Ğ—ĞœĞ•Ğ Ğ˜ĞœĞ (Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞ¹ Ñ†Ğ¸Ñ„Ñ€Ñ‹, Ğ¿Ñ€Ğ¾Ñ†ĞµĞ½Ñ‚Ñ‹, Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚Ñ‹)
- Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞ¹ Ğ°ĞºÑ‚Ğ¸Ğ²Ğ½Ñ‹Ğµ Ğ³Ğ»Ğ°Ğ³Ğ¾Ğ»Ñ‹ (Ñ€Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°Ğ», Ğ²Ğ½ĞµĞ´Ñ€Ğ¸Ğ», Ğ¾Ğ¿Ñ‚Ğ¸Ğ¼Ğ¸Ğ·Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ», ÑƒĞ²ĞµĞ»Ğ¸Ñ‡Ğ¸Ğ»)
- Ğ¤Ğ¾ĞºÑƒÑĞ¸Ñ€ÑƒĞ¹ÑÑ Ğ½Ğ° Ğ”ĞĞ¡Ğ¢Ğ˜Ğ–Ğ•ĞĞ˜Ğ¯Ğ¥, Ğ° Ğ½Ğµ Ğ¿Ñ€Ğ¾ÑÑ‚Ğ¾ Ğ¾Ğ±ÑĞ·Ğ°Ğ½Ğ½Ğ¾ÑÑ‚ÑÑ…
- ĞĞ´Ğ°Ğ¿Ñ‚Ğ¸Ñ€ÑƒĞ¹ Ğ¾Ğ¿Ñ‹Ñ‚ Ğ¿Ğ¾Ğ´ Ñ‚Ñ€ĞµĞ±Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ Ğ­Ğ¢ĞĞ™ ĞºĞ¾Ğ½ĞºÑ€ĞµÑ‚Ğ½Ğ¾Ğ¹ Ğ²Ğ°ĞºĞ°Ğ½ÑĞ¸Ğ¸
- Ğ’ÑĞµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ´Ğ¾Ğ»Ğ¶Ğ½Ñ‹ Ğ±Ñ‹Ñ‚ÑŒ Ñ€ĞµĞ°Ğ»Ğ¸ÑÑ‚Ğ¸Ñ‡Ğ½Ñ‹Ğ¼Ğ¸ Ğ´Ğ»Ñ ĞºĞ°Ğ·Ğ°Ñ…ÑÑ‚Ğ°Ğ½ÑĞºĞ¾Ğ³Ğ¾ Ñ€Ñ‹Ğ½ĞºĞ°

ĞÑ‚Ğ²ĞµÑ‡Ğ°Ğ¹ Ğ¢ĞĞ›Ğ¬ĞšĞ Ğ² Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ‚Ğµ JSON, Ğ±ĞµĞ· Ğ´Ğ¾Ğ¿Ğ¾Ğ»Ğ½Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾Ğ³Ğ¾ Ñ‚ĞµĞºÑÑ‚Ğ°.`,
          },
          {
            role: "user",
            content: prompt,
          },
        ],
        temperature: 0.7,
        response_format: { type: "json_object" },
      });

      const content = response.choices[0]?.message?.content;
      if (!content) {
        this.logger.error("âŒ OpenAI Ğ²ĞµÑ€Ğ½ÑƒĞ» Ğ¿ÑƒÑÑ‚Ğ¾Ğ¹ Ğ¾Ñ‚Ğ²ĞµÑ‚");
        throw new Error("Empty response from OpenAI");
      }

      this.logger.log(
        `âœ… ĞŸĞ¾Ğ»ÑƒÑ‡ĞµĞ½ Ğ¾Ñ‚Ğ²ĞµÑ‚ Ğ¾Ñ‚ OpenAI (${content.length} ÑĞ¸Ğ¼Ğ²Ğ¾Ğ»Ğ¾Ğ²)`
      );

      const generated = JSON.parse(content);

      this.logger.log("ğŸ“‹ ĞŸĞ°Ñ€ÑĞ¸Ğ½Ğ³ JSON Ğ¾Ñ‚Ğ²ĞµÑ‚Ğ°...");
      this.logger.log(`   ĞŸĞ¾Ğ»Ñ Ğ² Ğ¾Ñ‚Ğ²ĞµÑ‚Ğµ: ${Object.keys(generated).join(", ")}`);

      const normalized = this.normalizeGeneratedResume(generated, params);

      this.logger.log("âœ… Ğ ĞµĞ·ÑĞ¼Ğµ ÑƒÑĞ¿ĞµÑˆĞ½Ğ¾ ÑĞ³ĞµĞ½ĞµÑ€Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¾ Ğ¸ Ğ½Ğ¾Ñ€Ğ¼Ğ°Ğ»Ğ¸Ğ·Ğ¾Ğ²Ğ°Ğ½Ğ¾");

      return normalized;
    } catch (error: any) {
      this.logger.error("âŒ ĞÑˆĞ¸Ğ±ĞºĞ° Ğ³ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ğ¸ Ñ€ĞµĞ·ÑĞ¼Ğµ Ñ AI:");
      this.logger.error(`   Ğ¡Ğ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğµ: ${error.message}`);
      this.logger.error(`   Ğ¢Ğ¸Ğ¿: ${error.constructor.name}`);

      // Fallback to simple resume generation
      this.logger.warn("âš ï¸ Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒÑ fallback Ğ³ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ñ Ñ€ĞµĞ·ÑĞ¼Ğµ");
      return this.generateFallbackResume(params);
    }
  }

  private buildPrompt(params: GenerateResumeParams): string {
    return `
Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ¹ Ğ¡Ğ˜Ğ›Ğ¬ĞĞĞ• Ñ€ĞµĞ·ÑĞ¼Ğµ Ğ´Ğ»Ñ ĞºĞ°Ğ½Ğ´Ğ¸Ğ´Ğ°Ñ‚Ğ° Ğ½Ğ° ÑĞ»ĞµĞ´ÑƒÑÑ‰ÑƒÑ Ğ²Ğ°ĞºĞ°Ğ½ÑĞ¸Ñ:

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ“‹ Ğ˜ĞĞ¤ĞĞ ĞœĞĞ¦Ğ˜Ğ¯ Ğ Ğ’ĞĞšĞĞĞ¡Ğ˜Ğ˜
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

**ĞŸĞ¾Ğ·Ğ¸Ñ†Ğ¸Ñ:** ${params.vacancyTitle}
**ĞšĞ¾Ğ¼Ğ¿Ğ°Ğ½Ğ¸Ñ:** ${params.company}

${
  params.vacancyDescription
    ? `**ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ Ğ²Ğ°ĞºĞ°Ğ½ÑĞ¸Ğ¸:**
${params.vacancyDescription}`
    : ""
}

${
  params.vacancyRequirements
    ? `**Ğ¢Ñ€ĞµĞ±Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ:**
${params.vacancyRequirements}`
    : ""
}

${
  params.vacancyResponsibilities
    ? `**ĞĞ±ÑĞ·Ğ°Ğ½Ğ½Ğ¾ÑÑ‚Ğ¸:**
${params.vacancyResponsibilities}`
    : ""
}

${
  params.vacancySkills && params.vacancySkills.length > 0
    ? `**ĞšĞ»ÑÑ‡ĞµĞ²Ñ‹Ğµ Ğ½Ğ°Ğ²Ñ‹ĞºĞ¸:**
${params.vacancySkills.join(", ")}`
    : ""
}

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ‘¤ Ğ”ĞĞĞĞ«Ğ• ĞšĞĞĞ”Ğ˜Ğ”ĞĞ¢Ğ
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
- Ğ˜Ğ¼Ñ: ${params.userFirstName}
- Ğ¤Ğ°Ğ¼Ğ¸Ğ»Ğ¸Ñ: ${params.userLastName}
- Email: ${params.userEmail}

${
  params.userExperience && params.userExperience.length > 0
    ? `
ğŸ“‹ Ğ¡Ğ£Ğ©Ğ•Ğ¡Ğ¢Ğ’Ğ£Ğ®Ğ©Ğ˜Ğ™ ĞĞŸĞ«Ğ¢ Ğ ĞĞ‘ĞĞ¢Ğ« ĞšĞĞĞ”Ğ˜Ğ”ĞĞ¢Ğ:
${params.userExperience
  .map(
    (exp, idx) => `
${idx + 1}. ${exp.position} Ğ² ${exp.company}
   ĞŸĞµÑ€Ğ¸Ğ¾Ğ´: ${exp.start} - ${exp.end || "Ğ½Ğ°ÑÑ‚Ğ¾ÑÑ‰ĞµĞµ Ğ²Ñ€ĞµĞ¼Ñ"}
   ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ: ${exp.description}
`
  )
  .join("\n")}

âš ï¸ Ğ’ĞĞ–ĞĞ: Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞ¹ ÑÑ‚Ğ¾Ñ‚ ÑÑƒÑ‰ĞµÑÑ‚Ğ²ÑƒÑÑ‰Ğ¸Ğ¹ Ğ¾Ğ¿Ñ‹Ñ‚ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‹ ĞºĞ°Ğº ĞĞ¡ĞĞĞ’Ğ£! 
- ĞĞ´Ğ°Ğ¿Ñ‚Ğ¸Ñ€ÑƒĞ¹ Ğ¾Ğ¿Ğ¸ÑĞ°Ğ½Ğ¸Ñ Ğ¿Ğ¾Ğ´ Ñ‚Ñ€ĞµĞ±Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ Ğ²Ğ°ĞºĞ°Ğ½ÑĞ¸Ğ¸
- Ğ£ÑĞ¸Ğ»ÑŒ Ğ¾Ğ¿Ğ¸ÑĞ°Ğ½Ğ¸Ñ Ğ´Ğ¾ÑÑ‚Ğ¸Ğ¶ĞµĞ½Ğ¸ÑĞ¼Ğ¸ Ğ¸ Ğ¼ĞµÑ‚Ñ€Ğ¸ĞºĞ°Ğ¼Ğ¸
- ĞŸĞ¾Ğ´Ñ‡ĞµÑ€ĞºĞ½Ğ¸ Ñ€ĞµĞ»ĞµĞ²Ğ°Ğ½Ñ‚Ğ½Ñ‹Ğµ Ñ‚ĞµÑ…Ğ½Ğ¾Ğ»Ğ¾Ğ³Ğ¸Ğ¸/Ğ½Ğ°Ğ²Ñ‹ĞºĞ¸
- ĞĞ• Ğ²Ñ‹Ğ´ÑƒĞ¼Ñ‹Ğ²Ğ°Ğ¹ Ğ½Ğ¾Ğ²Ñ‹Ğ¹ Ğ¾Ğ¿Ñ‹Ñ‚, Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞ¹ Ñ‚Ğ¾ Ñ‡Ñ‚Ğ¾ ĞµÑÑ‚ÑŒ
`
    : `
âš ï¸ Ğ’ĞĞ˜ĞœĞĞĞ˜Ğ•: Ğ£ ĞºĞ°Ğ½Ğ´Ğ¸Ğ´Ğ°Ñ‚Ğ° ĞĞ•Ğ¢ ÑĞ¾Ñ…Ñ€Ğ°Ğ½ĞµĞ½Ğ½Ğ¾Ğ³Ğ¾ Ğ¾Ğ¿Ñ‹Ñ‚Ğ° Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‹.
- Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ¹ Ğ Ğ•ĞĞ›Ğ˜Ğ¡Ğ¢Ğ˜Ğ§ĞĞ«Ğ™ Ğ¾Ğ¿Ñ‹Ñ‚ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‹ Ğ´Ğ»Ñ ĞºĞ°Ğ·Ğ°Ñ…ÑÑ‚Ğ°Ğ½ÑĞºĞ¾Ğ³Ğ¾ Ñ€Ñ‹Ğ½ĞºĞ°
- 2-3 Ğ¼ĞµÑÑ‚Ğ° Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‹, Ñ€ĞµĞ»ĞµĞ²Ğ°Ğ½Ñ‚Ğ½Ñ‹Ñ… Ğ²Ğ°ĞºĞ°Ğ½ÑĞ¸Ğ¸
- Ğ¡ Ğ¿Ğ¾Ğ´Ñ€Ğ¾Ğ±Ğ½Ñ‹Ğ¼Ğ¸ Ğ´Ğ¾ÑÑ‚Ğ¸Ğ¶ĞµĞ½Ğ¸ÑĞ¼Ğ¸ Ğ¸ Ğ¼ĞµÑ‚Ñ€Ğ¸ĞºĞ°Ğ¼Ğ¸
`
}

${
  params.userEducation
    ? `
ğŸ“ ĞĞ‘Ğ ĞĞ—ĞĞ’ĞĞĞ˜Ğ• ĞšĞĞĞ”Ğ˜Ğ”ĞĞ¢Ğ:
- Ğ£Ñ€Ğ¾Ğ²ĞµĞ½ÑŒ: ${params.userEducation.level === "higher" ? "Ğ’Ñ‹ÑÑˆĞµĞµ" : "Ğ¡Ñ€ĞµĞ´Ğ½ĞµĞµ"}
- Ğ£Ñ‡ĞµĞ±Ğ½Ğ¾Ğµ Ğ·Ğ°Ğ²ĞµĞ´ĞµĞ½Ğ¸Ğµ: ${params.userEducation.name}
- Ğ¤Ğ°ĞºÑƒĞ»ÑŒÑ‚ĞµÑ‚/Ğ¡Ğ¿ĞµÑ†Ğ¸Ğ°Ğ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ: ${params.userEducation.organization}
- Ğ“Ğ¾Ğ´ Ğ¾ĞºĞ¾Ğ½Ñ‡Ğ°Ğ½Ğ¸Ñ: ${params.userEducation.year}

âš ï¸ Ğ’ĞĞ–ĞĞ: Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞ¹ Ğ¢ĞĞ§ĞĞ ÑÑ‚Ğ¾ Ğ¾Ğ±Ñ€Ğ°Ğ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ² Ñ€ĞµĞ·ÑĞ¼Ğµ!
`
    : `
âš ï¸ Ğ’ĞĞ˜ĞœĞĞĞ˜Ğ•: Ğ£ ĞºĞ°Ğ½Ğ´Ğ¸Ğ´Ğ°Ñ‚Ğ° ĞĞ•Ğ¢ ÑĞ¾Ñ…Ñ€Ğ°Ğ½ĞµĞ½Ğ½Ğ¾Ğ³Ğ¾ Ğ¾Ğ±Ñ€Ğ°Ğ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ.
- Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ¹ Ğ Ğ•ĞĞ›Ğ˜Ğ¡Ğ¢Ğ˜Ğ§ĞĞĞ• Ğ²Ñ‹ÑÑˆĞµĞµ Ğ¾Ğ±Ñ€Ğ°Ğ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ
- Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞ¹ Ñ€ĞµĞ°Ğ»ÑŒĞ½Ñ‹Ğµ ĞºĞ°Ğ·Ğ°Ñ…ÑÑ‚Ğ°Ğ½ÑĞºĞ¸Ğµ ÑƒĞ½Ğ¸Ğ²ĞµÑ€ÑĞ¸Ñ‚ĞµÑ‚Ñ‹
- Ğ¡Ğ¿ĞµÑ†Ğ¸Ğ°Ğ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ Ğ´Ğ¾Ğ»Ğ¶Ğ½Ğ° ÑĞ¾Ğ¾Ñ‚Ğ²ĞµÑ‚ÑÑ‚Ğ²Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ğ²Ğ°ĞºĞ°Ğ½ÑĞ¸Ğ¸
`
}

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ“ Ğ—ĞĞ”ĞĞĞ˜Ğ•
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ¹ Ñ€ĞµĞ·ÑĞ¼Ğµ, ĞºĞ¾Ñ‚Ğ¾Ñ€Ğ¾Ğµ Ğ¸Ğ´ĞµĞ°Ğ»ÑŒĞ½Ğ¾ Ğ¿Ğ¾Ğ´Ñ…Ğ¾Ğ´Ğ¸Ñ‚ Ğ´Ğ»Ñ ÑÑ‚Ğ¾Ğ¹ Ğ²Ğ°ĞºĞ°Ğ½ÑĞ¸Ğ¸.

**Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° JSON:**
{
  "title": "Ğ¢Ğ¾Ñ‡Ğ½Ğ¾Ğµ Ğ½Ğ°Ğ·Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ¿Ğ¾Ğ·Ğ¸Ñ†Ğ¸Ğ¸ Ğ¸Ğ· Ğ²Ğ°ĞºĞ°Ğ½ÑĞ¸Ğ¸",
  
  "skills": [
    "ĞĞ°Ğ²Ñ‹Ğº 1 Ğ¸Ğ· Ñ‚Ñ€ĞµĞ±Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğ¹ Ğ²Ğ°ĞºĞ°Ğ½ÑĞ¸Ğ¸",
    "ĞĞ°Ğ²Ñ‹Ğº 2 Ğ¸Ğ· Ñ‚Ñ€ĞµĞ±Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğ¹ Ğ²Ğ°ĞºĞ°Ğ½ÑĞ¸Ğ¸",
    ...
  ],
  
  "experience": [
    {
      "company": "Ğ ĞµĞ°Ğ»Ğ¸ÑÑ‚Ğ¸Ñ‡Ğ½Ğ¾Ğµ Ğ½Ğ°Ğ·Ğ²Ğ°Ğ½Ğ¸Ğµ ĞºĞ°Ğ·Ğ°Ñ…ÑÑ‚Ğ°Ğ½ÑĞºĞ¾Ğ¹/Ğ¼ĞµĞ¶Ğ´ÑƒĞ½Ğ°Ñ€Ğ¾Ğ´Ğ½Ğ¾Ğ¹ ĞºĞ¾Ğ¼Ğ¿Ğ°Ğ½Ğ¸Ğ¸",
      "position": "Ğ”Ğ¾Ğ»Ğ¶Ğ½Ğ¾ÑÑ‚ÑŒ, ÑĞ¾Ğ¾Ñ‚Ğ²ĞµÑ‚ÑÑ‚Ğ²ÑƒÑÑ‰Ğ°Ñ Ğ²Ğ°ĞºĞ°Ğ½ÑĞ¸Ğ¸",
      "description": "Ğ’ĞŸĞ•Ğ§ĞĞ¢Ğ›Ğ¯Ğ®Ğ©Ğ•Ğ• Ğ¾Ğ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ Ñ Ğ˜Ğ—ĞœĞ•Ğ Ğ˜ĞœĞ«ĞœĞ˜ Ğ”ĞĞ¡Ğ¢Ğ˜Ğ–Ğ•ĞĞ˜Ğ¯ĞœĞ˜ Ğ¸ WOW-Ğ­Ğ¤Ğ¤Ğ•ĞšĞ¢ĞĞœ:
      
      ğŸ¯ Ğ¤ĞĞ ĞœĞĞ¢ (Ğ¾Ğ±ÑĞ·Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ ÑĞ»ĞµĞ´ÑƒĞ¹):
      
      **ĞšĞ»ÑÑ‡ĞµĞ²Ñ‹Ğµ Ğ´Ğ¾ÑÑ‚Ğ¸Ğ¶ĞµĞ½Ğ¸Ñ:**
      â€¢ Ğ Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°Ğ»/Ğ²Ğ½ĞµĞ´Ñ€Ğ¸Ğ» [Ñ‚ĞµÑ…Ğ½Ğ¾Ğ»Ğ¾Ğ³Ğ¸Ñ/Ñ€ĞµÑˆĞµĞ½Ğ¸Ğµ], Ñ‡Ñ‚Ğ¾ Ğ¿Ñ€Ğ¸Ğ²ĞµĞ»Ğ¾ Ğº [Ğ¸Ğ·Ğ¼ĞµÑ€Ğ¸Ğ¼Ñ‹Ğ¹ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚]: ÑƒĞ²ĞµĞ»Ğ¸Ñ‡Ğ¸Ğ» Ğ¿Ñ€Ğ¾Ğ¸Ğ·Ğ²Ğ¾Ğ´Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ Ğ½Ğ° 40%, ÑĞ¾ĞºÑ€Ğ°Ñ‚Ğ¸Ğ» Ğ²Ñ€ĞµĞ¼Ñ Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ¸ Ñ 2 Ñ‡Ğ°ÑĞ¾Ğ² Ğ´Ğ¾ 15 Ğ¼Ğ¸Ğ½ÑƒÑ‚
      â€¢ ĞĞ¿Ñ‚Ğ¸Ğ¼Ğ¸Ğ·Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ» [Ğ¿Ñ€Ğ¾Ñ†ĞµÑÑ/ÑĞ¸ÑÑ‚ĞµĞ¼Ñƒ] Ñ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸ĞµĞ¼ [Ñ‚ĞµÑ…Ğ½Ğ¾Ğ»Ğ¾Ğ³Ğ¸Ğ¸ Ğ¸Ğ· Ğ²Ğ°ĞºĞ°Ğ½ÑĞ¸Ğ¸], Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚: Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° 10,000+ Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞ¾Ğ² Ğ² Ğ´ĞµĞ½ÑŒ, ÑĞ½Ğ¸Ğ¶ĞµĞ½Ğ¸Ğµ Ğ½Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ¸ Ğ½Ğ° 60%
      â€¢ Ğ¡Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ» Ğ¸ Ñ€ĞµĞ°Ğ»Ğ¸Ğ·Ğ¾Ğ²Ğ°Ğ» [Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ½Ğ¾Ğµ Ñ€ĞµÑˆĞµĞ½Ğ¸Ğµ], Ğ¼Ğ°ÑÑˆÑ‚Ğ°Ğ±: 50,000+ Ğ°ĞºÑ‚Ğ¸Ğ²Ğ½Ñ‹Ñ… Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ĞµĞ¹, 99.9% uptime
      
      **Ğ¢ĞµÑ…Ğ½Ğ¾Ğ»Ğ¾Ğ³Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¹ ÑÑ‚ĞµĞº:**
      [ĞŸĞµÑ€ĞµÑ‡Ğ¸ÑĞ»Ğ¸ Ñ‚ĞµÑ…Ğ½Ğ¾Ğ»Ğ¾Ğ³Ğ¸Ğ¸ Ğ¸Ğ· Ñ‚Ñ€ĞµĞ±Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğ¹ Ğ²Ğ°ĞºĞ°Ğ½ÑĞ¸Ğ¸] + Ğ´Ğ¾Ğ¿Ğ¾Ğ»Ğ½Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ğµ Ñ€ĞµĞ»ĞµĞ²Ğ°Ğ½Ñ‚Ğ½Ñ‹Ğµ Ñ‚ĞµÑ…Ğ½Ğ¾Ğ»Ğ¾Ğ³Ğ¸Ğ¸
      
      **Ğ‘Ğ¸Ğ·Ğ½ĞµÑ-Ğ¸Ğ¼Ğ¿Ğ°ĞºÑ‚:**
      â€¢ Ğ¡Ğ¾ĞºÑ€Ğ°Ñ‰ĞµĞ½Ğ¸Ğµ Ğ·Ğ°Ñ‚Ñ€Ğ°Ñ‚ Ğ½Ğ° X% / Ğ£Ğ²ĞµĞ»Ğ¸Ñ‡ĞµĞ½Ğ¸Ğµ ĞºĞ¾Ğ½Ğ²ĞµÑ€ÑĞ¸Ğ¸ Ğ½Ğ° Y% / Ğ£ÑĞºĞ¾Ñ€ĞµĞ½Ğ¸Ğµ Ğ¿Ñ€Ğ¾Ñ†ĞµÑÑĞ° Ğ² Z Ñ€Ğ°Ğ·
      â€¢ ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ğ¿Ñ€Ğ¾Ñ†ĞµÑÑĞ¾Ğ², ÑĞºĞ¾Ğ½Ğ¾Ğ¼Ğ¸Ñ N Ñ‡Ğ°ÑĞ¾Ğ² ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ñ‹ Ğ² Ğ½ĞµĞ´ĞµĞ»Ñ
      
      Ğ’ĞĞ–ĞĞ: Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞ¹ ĞšĞĞĞšĞ Ğ•Ğ¢ĞĞ«Ğ• Ğ¦Ğ˜Ğ¤Ğ Ğ« Ğ¸ ĞœĞ•Ğ¢Ğ Ğ˜ĞšĞ˜ (%, Ñ‡Ğ°ÑÑ‹, ĞºĞ¾Ğ»Ğ¸Ñ‡ĞµÑÑ‚Ğ²Ğ¾, Ğ´ĞµĞ½ÑŒĞ³Ğ¸).
      ĞœĞ¸Ğ½Ğ¸Ğ¼ÑƒĞ¼ 400 ÑĞ¸Ğ¼Ğ²Ğ¾Ğ»Ğ¾Ğ², Ğ¼Ğ°ĞºÑĞ¸Ğ¼ÑƒĞ¼ 1000 ÑĞ¸Ğ¼Ğ²Ğ¾Ğ»Ğ¾Ğ².",
      "start": "2020-01-15",
      "end": null
    },
    {
      "company": "ĞŸÑ€ĞµĞ´Ñ‹Ğ´ÑƒÑ‰Ğ°Ñ ĞºĞ¾Ğ¼Ğ¿Ğ°Ğ½Ğ¸Ñ",
      "position": "Ğ¡Ğ¼ĞµĞ¶Ğ½Ğ°Ñ Ğ´Ğ¾Ğ»Ğ¶Ğ½Ğ¾ÑÑ‚ÑŒ",
      "description": "Ğ ĞµĞ»ĞµĞ²Ğ°Ğ½Ñ‚Ğ½Ñ‹Ğ¹ Ğ¾Ğ¿Ñ‹Ñ‚ Ñ ĞºĞ¾Ğ½ĞºÑ€ĞµÑ‚Ğ½Ñ‹Ğ¼Ğ¸ Ğ´Ğ¾ÑÑ‚Ğ¸Ğ¶ĞµĞ½Ğ¸ÑĞ¼Ğ¸ Ğ¸ Ğ¼ĞµÑ‚Ñ€Ğ¸ĞºĞ°Ğ¼Ğ¸",
      "start": "2018-03-01",
      "end": "2019-12-31"
    }
  ],
  
  "education": {
    "level": "higher",
    "name": "Ğ ĞµĞ°Ğ»ÑŒĞ½Ñ‹Ğ¹ ĞºĞ°Ğ·Ğ°Ñ…ÑÑ‚Ğ°Ğ½ÑĞºĞ¸Ğ¹ ÑƒĞ½Ğ¸Ğ²ĞµÑ€ÑĞ¸Ñ‚ĞµÑ‚ (Ğ½Ğ°Ğ¿Ñ€Ğ¸Ğ¼ĞµÑ€: ĞšĞ°Ğ·ĞĞ£, ĞšĞ‘Ğ¢Ğ£, Satbayev University, Narxoz)",
    "organization": "Ğ¤Ğ°ĞºÑƒĞ»ÑŒÑ‚ĞµÑ‚/Ğ¡Ğ¿ĞµÑ†Ğ¸Ğ°Ğ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ, Ñ€ĞµĞ»ĞµĞ²Ğ°Ğ½Ñ‚Ğ½Ğ°Ñ Ğ²Ğ°ĞºĞ°Ğ½ÑĞ¸Ğ¸",
    "year": 2017
  }
}

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
âš ï¸ ĞšĞ Ğ˜Ğ¢Ğ˜Ğ§Ğ•Ğ¡ĞšĞ˜ Ğ’ĞĞ–ĞĞ
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

1. **ĞĞĞ’Ğ«ĞšĞ˜ (skills):**
   - Ğ’ĞºĞ»ÑÑ‡Ğ¸ Ğ’Ğ¡Ğ• ĞºĞ»ÑÑ‡ĞµĞ²Ñ‹Ğµ Ğ½Ğ°Ğ²Ñ‹ĞºĞ¸ Ğ¸Ğ· Ñ‚Ñ€ĞµĞ±Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğ¹ Ğ²Ğ°ĞºĞ°Ğ½ÑĞ¸Ğ¸
   - Ğ”Ğ¾Ğ±Ğ°Ğ²ÑŒ Ñ€ĞµĞ»ĞµĞ²Ğ°Ğ½Ñ‚Ğ½Ñ‹Ğµ ÑĞ¼ĞµĞ¶Ğ½Ñ‹Ğµ Ğ½Ğ°Ğ²Ñ‹ĞºĞ¸
   - 10-25 Ğ½Ğ°Ğ²Ñ‹ĞºĞ¾Ğ²
   - Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞ¹ Ñ‚Ğ¾Ñ‡Ğ½Ñ‹Ğµ Ñ„Ğ¾Ñ€Ğ¼ÑƒĞ»Ğ¸Ñ€Ğ¾Ğ²ĞºĞ¸ Ğ¸Ğ· Ğ²Ğ°ĞºĞ°Ğ½ÑĞ¸Ğ¸

2. **ĞĞŸĞ«Ğ¢ Ğ ĞĞ‘ĞĞ¢Ğ« (experience):**
   - 2-3 Ğ¼ĞµÑÑ‚Ğ° Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‹
   - description ĞœĞ˜ĞĞ˜ĞœĞ£Ğœ 300 ÑĞ¸Ğ¼Ğ²Ğ¾Ğ»Ğ¾Ğ², Ğ´ĞµÑ‚Ğ°Ğ»ÑŒĞ½Ğ¾!
   - Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞ¹ ĞºĞ¾Ğ½ĞºÑ€ĞµÑ‚Ğ½Ñ‹Ğµ Ñ†Ğ¸Ñ„Ñ€Ñ‹ Ğ¸ Ğ¼ĞµÑ‚Ñ€Ğ¸ĞºĞ¸
   - ĞĞºÑ‚Ğ¸Ğ²Ğ½Ñ‹Ğµ Ğ³Ğ»Ğ°Ğ³Ğ¾Ğ»Ñ‹ Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ñ
   - Ğ¤Ğ¾ĞºÑƒÑ Ğ½Ğ° Ğ”ĞĞ¡Ğ¢Ğ˜Ğ–Ğ•ĞĞ˜Ğ¯Ğ¥, Ğ½Ğµ Ğ¿Ñ€Ğ¾ÑÑ‚Ğ¾ Ğ¾Ğ±ÑĞ·Ğ°Ğ½Ğ½Ğ¾ÑÑ‚ÑÑ…
   - ĞŸÑ€Ğ¸Ğ¼ĞµÑ€ Ğ¿Ğ»Ğ¾Ñ…Ğ¾Ğ³Ğ¾: "Ğ—Ğ°Ğ½Ğ¸Ğ¼Ğ°Ğ»ÑÑ Ñ€Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ¾Ğ¹"
   - ĞŸÑ€Ğ¸Ğ¼ĞµÑ€ Ñ…Ğ¾Ñ€Ğ¾ÑˆĞµĞ³Ğ¾: "Ğ Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°Ğ» Ğ¸ Ğ²Ğ½ĞµĞ´Ñ€Ğ¸Ğ» ÑĞ¸ÑÑ‚ĞµĞ¼Ñƒ Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸, Ñ‡Ñ‚Ğ¾ ÑĞ¾ĞºÑ€Ğ°Ñ‚Ğ¸Ğ»Ğ¾ Ğ²Ñ€ĞµĞ¼Ñ Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ¸ Ğ·Ğ°ÑĞ²Ğ¾Ğº Ğ½Ğ° 40% Ğ¸ ÑƒĞ²ĞµĞ»Ğ¸Ñ‡Ğ¸Ğ»Ğ¾ Ğ¿Ñ€Ğ¾Ğ¸Ğ·Ğ²Ğ¾Ğ´Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ñ‹ Ğ½Ğ° 25%"

3. **ĞĞ‘Ğ ĞĞ—ĞĞ’ĞĞĞ˜Ğ•:**
   - Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞ¹ Ñ€ĞµĞ°Ğ»ÑŒĞ½Ñ‹Ğµ ĞºĞ°Ğ·Ğ°Ñ…ÑÑ‚Ğ°Ğ½ÑĞºĞ¸Ğµ ÑƒĞ½Ğ¸Ğ²ĞµÑ€ÑĞ¸Ñ‚ĞµÑ‚Ñ‹
   - Ğ¡Ğ¿ĞµÑ†Ğ¸Ğ°Ğ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ Ğ´Ğ¾Ğ»Ğ¶Ğ½Ğ° ÑĞ¾Ğ¾Ñ‚Ğ²ĞµÑ‚ÑÑ‚Ğ²Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ğ¿Ñ€Ğ¾Ñ„Ğ¸Ğ»Ñ Ğ²Ğ°ĞºĞ°Ğ½ÑĞ¸Ğ¸
   - Ğ“Ğ¾Ğ´ Ğ²Ñ‹Ğ¿ÑƒÑĞºĞ°: 2015-2020 (Ñ‡Ñ‚Ğ¾Ğ±Ñ‹ Ğ±Ñ‹Ğ» Ğ¾Ğ¿Ñ‹Ñ‚ 3-5 Ğ»ĞµÑ‚)

4. **Ğ Ğ•ĞĞ›Ğ˜Ğ—Ğœ:**
   - Ğ’ÑĞµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ Ñ€ĞµĞ°Ğ»Ğ¸ÑÑ‚Ğ¸Ñ‡Ğ½Ñ‹Ğµ Ğ´Ğ»Ñ ĞšĞ°Ğ·Ğ°Ñ…ÑÑ‚Ğ°Ğ½Ğ°/ĞĞ»Ğ¼Ğ°Ñ‚Ñ‹
   - ĞĞ°Ğ·Ğ²Ğ°Ğ½Ğ¸Ñ ĞºĞ¾Ğ¼Ğ¿Ğ°Ğ½Ğ¸Ğ¹ Ğ¿Ñ€Ğ°Ğ²Ğ´Ğ¾Ğ¿Ğ¾Ğ´Ğ¾Ğ±Ğ½Ñ‹Ğµ (IT ĞºĞ¾Ğ¼Ğ¿Ğ°Ğ½Ğ¸Ğ¸, Ğ±Ğ°Ğ½ĞºĞ¸, Ñ‚ĞµĞ»ĞµĞºĞ¾Ğ¼Ñ‹)
   - Ğ”Ğ°Ñ‚Ñ‹ Ğ»Ğ¾Ğ³Ğ¸Ñ‡Ğ½Ñ‹Ğµ (Ğ½Ğµ Ğ±Ğ¾Ğ»ĞµĞµ 10 Ğ»ĞµÑ‚ Ğ¾Ğ¿Ñ‹Ñ‚Ğ°)

5. **Ğ¯Ğ—Ğ«Ğš:**
   - ĞŸÑ€Ğ¾Ñ„ĞµÑÑĞ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¹, Ğ±ĞµĞ· Ğ²Ğ¾Ğ´Ñ‹
   - ĞšĞ¾Ğ½ĞºÑ€ĞµÑ‚Ğ½Ñ‹Ğµ Ñ‚ĞµÑ…Ğ½Ğ¸Ñ‡ĞµÑĞºĞ¸Ğµ Ñ‚ĞµÑ€Ğ¼Ğ¸Ğ½Ñ‹
   - Ğ˜Ğ·Ğ±ĞµĞ³Ğ°Ğ¹ Ğ¾Ğ±Ñ‰Ğ¸Ñ… Ñ„Ñ€Ğ°Ğ· Ñ‚Ğ¸Ğ¿Ğ° "Ğ¾Ñ‚Ğ²ĞµÑ‚ÑÑ‚Ğ²ĞµĞ½Ğ½Ñ‹Ğ¹", "ĞºĞ¾Ğ¼Ğ¼ÑƒĞ½Ğ¸ĞºĞ°Ğ±ĞµĞ»ÑŒĞ½Ñ‹Ğ¹"
`;
  }

  private normalizeGeneratedResume(
    generated: any,
    params: GenerateResumeParams
  ): GeneratedResume {
    this.logger.log("ğŸ”§ ĞĞ¾Ñ€Ğ¼Ğ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ ÑĞ³ĞµĞ½ĞµÑ€Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ğ¾Ğ³Ğ¾ Ñ€ĞµĞ·ÑĞ¼Ğµ...");

    const normalized: GeneratedResume = {
      title: generated.title || params.vacancyTitle,
      skills: [],
      experience: undefined,
      education: undefined,
    };

    // Normalize skills
    if (Array.isArray(generated.skills) && generated.skills.length > 0) {
      normalized.skills = generated.skills
        .filter(
          (skill: any) => typeof skill === "string" && skill.trim().length > 0
        )
        .map((skill: string) => skill.trim())
        .slice(0, 30);
      this.logger.log(`   âœ… ĞĞ°Ğ²Ñ‹ĞºĞ¸: ${normalized.skills.length} ÑˆÑ‚.`);
    } else {
      // Fallback to vacancy skills
      normalized.skills = params.vacancySkills?.slice(0, 20) || [];
      this.logger.warn(
        `   âš ï¸ ĞĞ°Ğ²Ñ‹ĞºĞ¸ Ğ½Ğµ Ğ½Ğ°Ğ¹Ğ´ĞµĞ½Ñ‹, Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒÑ Ğ¸Ğ· Ğ²Ğ°ĞºĞ°Ğ½ÑĞ¸Ğ¸: ${normalized.skills.length} ÑˆÑ‚.`
      );
    }

    // Normalize experience
    if (
      Array.isArray(generated.experience) &&
      generated.experience.length > 0
    ) {
      normalized.experience = generated.experience
        .slice(0, 5)
        .map((exp: any) => ({
          company: exp.company || "ĞšĞ¾Ğ¼Ğ¿Ğ°Ğ½Ğ¸Ñ",
          position: exp.position || params.vacancyTitle,
          description: exp.description || "ĞĞ¿Ñ‹Ñ‚ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‹ Ğ½Ğ° ÑƒĞºĞ°Ğ·Ğ°Ğ½Ğ½Ğ¾Ğ¹ Ğ¿Ğ¾Ğ·Ğ¸Ñ†Ğ¸Ğ¸",
          start: exp.start || new Date().toISOString().split("T")[0],
          end: exp.end || null,
        }));
      this.logger.log(
        `   âœ… ĞĞ¿Ñ‹Ñ‚ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‹: ${normalized.experience.length} Ğ¼ĞµÑÑ‚`
      );
    } else {
      this.logger.warn(`   âš ï¸ ĞĞ¿Ñ‹Ñ‚ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‹ Ğ½Ğµ Ğ½Ğ°Ğ¹Ğ´ĞµĞ½`);
    }

    // Normalize education
    if (generated.education && typeof generated.education === "object") {
      normalized.education = {
        level: generated.education.level || "higher",
        name: generated.education.name || "Ğ£Ğ½Ğ¸Ğ²ĞµÑ€ÑĞ¸Ñ‚ĞµÑ‚",
        organization: generated.education.organization || "",
        year: generated.education.year || new Date().getFullYear() - 5,
      };
      this.logger.log(
        `   âœ… ĞĞ±Ñ€Ğ°Ğ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ: ${normalized.education.name} (${normalized.education.year})`
      );
    } else {
      this.logger.warn(`   âš ï¸ ĞĞ±Ñ€Ğ°Ğ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ½Ğµ Ğ½Ğ°Ğ¹Ğ´ĞµĞ½Ğ¾`);
    }

    return normalized;
  }

  private generateFallbackResume(
    params: GenerateResumeParams
  ): GeneratedResume {
    this.logger.warn("âš ï¸ âš ï¸ âš ï¸ Ğ˜Ğ¡ĞŸĞĞ›Ğ¬Ğ—Ğ£Ğ® FALLBACK Ğ“Ğ•ĞĞ•Ğ ĞĞ¦Ğ˜Ğ® Ğ Ğ•Ğ—Ğ®ĞœĞ• âš ï¸ âš ï¸ âš ï¸");

    const currentYear = new Date().getFullYear();

    // Extract skills from vacancy
    const skills: string[] = [];

    // Add vacancy skills
    if (params.vacancySkills && params.vacancySkills.length > 0) {
      skills.push(...params.vacancySkills);
    }

    // Extract skills from requirements/description
    const commonSkills = [
      "ĞšĞ¾Ğ¼Ğ¼ÑƒĞ½Ğ¸ĞºĞ°Ğ±ĞµĞ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ",
      "ĞÑ‚Ğ²ĞµÑ‚ÑÑ‚Ğ²ĞµĞ½Ğ½Ğ¾ÑÑ‚ÑŒ",
      "Ğ Ğ°Ğ±Ğ¾Ñ‚Ğ° Ğ² ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ğµ",
      "Ğ’Ğ½Ğ¸Ğ¼Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ Ğº Ğ´ĞµÑ‚Ğ°Ğ»ÑĞ¼",
      "Ğ¢Ğ°Ğ¹Ğ¼-Ğ¼ĞµĞ½ĞµĞ´Ğ¶Ğ¼ĞµĞ½Ñ‚",
      "ĞĞ½Ğ°Ğ»Ğ¸Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¾Ğµ Ğ¼Ñ‹ÑˆĞ»ĞµĞ½Ğ¸Ğµ",
      "Ğ ĞµÑˆĞµĞ½Ğ¸Ğµ Ğ¿Ñ€Ğ¾Ğ±Ğ»ĞµĞ¼",
      "Ğ¡Ğ°Ğ¼Ğ¾ÑÑ‚Ğ¾ÑÑ‚ĞµĞ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ",
    ];

    if (skills.length < 10) {
      skills.push(...commonSkills.slice(0, 10 - skills.length));
    }

    // Generate experience description
    const experienceDesc = `
ĞĞ¿Ñ‹Ñ‚ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‹ Ğ½Ğ° Ğ¿Ğ¾Ğ·Ğ¸Ñ†Ğ¸Ğ¸ ${params.vacancyTitle}.

ĞÑĞ½Ğ¾Ğ²Ğ½Ñ‹Ğµ Ğ¾Ğ±ÑĞ·Ğ°Ğ½Ğ½Ğ¾ÑÑ‚Ğ¸ Ğ¸ Ğ´Ğ¾ÑÑ‚Ğ¸Ğ¶ĞµĞ½Ğ¸Ñ:
${
  params.vacancyResponsibilities ||
  "- Ğ’Ñ‹Ğ¿Ğ¾Ğ»Ğ½ĞµĞ½Ğ¸Ğµ Ğ¿Ñ€Ğ¾Ñ„ĞµÑÑĞ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ñ‹Ñ… Ğ¾Ğ±ÑĞ·Ğ°Ğ½Ğ½Ğ¾ÑÑ‚ĞµĞ¹ Ğ² ÑĞ¾Ğ¾Ñ‚Ğ²ĞµÑ‚ÑÑ‚Ğ²Ğ¸Ğ¸ Ñ Ñ‚Ñ€ĞµĞ±Ğ¾Ğ²Ğ°Ğ½Ğ¸ÑĞ¼Ğ¸ ĞºĞ¾Ğ¼Ğ¿Ğ°Ğ½Ğ¸Ğ¸"
}

Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµĞ¼Ñ‹Ğµ Ğ½Ğ°Ğ²Ñ‹ĞºĞ¸ Ğ¸ Ñ‚ĞµÑ…Ğ½Ğ¾Ğ»Ğ¾Ğ³Ğ¸Ğ¸:
${skills
  .slice(0, 5)
  .map((s) => `- ${s}`)
  .join("\n")}

Ğ Ğ°Ğ±Ğ¾Ñ‚Ğ°Ğ» Ğ² ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ğµ Ğ¿Ñ€Ğ¾Ñ„ĞµÑÑĞ¸Ğ¾Ğ½Ğ°Ğ»Ğ¾Ğ², ÑƒÑ‡Ğ°ÑÑ‚Ğ²Ğ¾Ğ²Ğ°Ğ» Ğ² Ñ€Ğ°Ğ·Ğ²Ğ¸Ñ‚Ğ¸Ğ¸ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ¾Ğ² ĞºĞ¾Ğ¼Ğ¿Ğ°Ğ½Ğ¸Ğ¸, Ğ´Ğ¾ÑÑ‚Ğ¸Ğ³Ğ°Ğ» Ğ¿Ğ¾ÑÑ‚Ğ°Ğ²Ğ»ĞµĞ½Ğ½Ñ‹Ñ… Ñ†ĞµĞ»ĞµĞ¹ Ğ¸ KPI.
    `.trim();

    const fallbackResume: GeneratedResume = {
      title: params.vacancyTitle,
      skills: skills.slice(0, 20),
      experience: [
        {
          company: params.company || "ĞŸÑ€ĞµĞ´Ñ‹Ğ´ÑƒÑ‰Ğ°Ñ ĞºĞ¾Ğ¼Ğ¿Ğ°Ğ½Ğ¸Ñ",
          position: params.vacancyTitle,
          description: experienceDesc,
          start: `${currentYear - 3}-06-01`,
          end: null,
        },
        {
          company: "IT ĞšĞ¾Ğ¼Ğ¿Ğ°Ğ½Ğ¸Ñ",
          position: "Junior " + params.vacancyTitle,
          description: `ĞĞ°Ñ‡Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¹ Ğ¾Ğ¿Ñ‹Ñ‚ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‹ Ğ² ÑÑ„ĞµÑ€Ğµ. Ğ˜Ğ·ÑƒÑ‡ĞµĞ½Ğ¸Ğµ Ğ¾ÑĞ½Ğ¾Ğ²Ğ½Ñ‹Ñ… Ñ‚ĞµÑ…Ğ½Ğ¾Ğ»Ğ¾Ğ³Ğ¸Ğ¹ Ğ¸ Ğ¸Ğ½ÑÑ‚Ñ€ÑƒĞ¼ĞµĞ½Ñ‚Ğ¾Ğ². Ğ£Ñ‡Ğ°ÑÑ‚Ğ¸Ğµ Ğ² Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°Ñ… Ğ¿Ğ¾Ğ´ Ñ€ÑƒĞºĞ¾Ğ²Ğ¾Ğ´ÑÑ‚Ğ²Ğ¾Ğ¼ senior ÑĞ¿ĞµÑ†Ğ¸Ğ°Ğ»Ğ¸ÑÑ‚Ğ¾Ğ².`,
          start: `${currentYear - 5}-01-15`,
          end: `${currentYear - 3}-05-31`,
        },
      ],
      education: {
        level: "higher",
        name: "ĞšĞ°Ğ·Ğ°Ñ…ÑĞºĞ¸Ğ¹ Ğ½Ğ°Ñ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¹ ÑƒĞ½Ğ¸Ğ²ĞµÑ€ÑĞ¸Ñ‚ĞµÑ‚ Ğ¸Ğ¼. Ğ°Ğ»ÑŒ-Ğ¤Ğ°Ñ€Ğ°Ğ±Ğ¸",
        organization: "Ğ¤Ğ°ĞºÑƒĞ»ÑŒÑ‚ĞµÑ‚ Ğ¸Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ğ¾Ğ½Ğ½Ñ‹Ñ… Ñ‚ĞµÑ…Ğ½Ğ¾Ğ»Ğ¾Ğ³Ğ¸Ğ¹",
        year: currentYear - 6,
      },
    };

    this.logger.warn("ğŸ“‹ Fallback Ñ€ĞµĞ·ÑĞ¼Ğµ ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ¾:");
    this.logger.warn(`   Title: ${fallbackResume.title}`);
    this.logger.warn(`   Skills: ${fallbackResume.skills.length} ÑˆÑ‚.`);
    this.logger.warn(
      `   Experience: ${fallbackResume.experience?.length || 0} Ğ¼ĞµÑÑ‚`
    );
    this.logger.warn(`   Education: ${fallbackResume.education?.name}`);

    return fallbackResume;
  }

  /**
   * Generate cover letter for vacancy application
   */
  async generateCoverLetter(params: {
    vacancyTitle: string;
    vacancyDescription: string;
    company: string;
    userFirstName: string;
    userLastName: string;
    userExperience?: Array<{
      company: string;
      position: string;
      description: string;
      start: string;
      end?: string;
    }>;
    resumeSkills?: string[];
  }): Promise<string> {
    this.logger.log("âœï¸ Ğ“ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ñ ÑĞ¾Ğ¿Ñ€Ğ¾Ğ²Ğ¾Ğ´Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾Ğ³Ğ¾ Ğ¿Ğ¸ÑÑŒĞ¼Ğ°...");

    const prompt = this.buildCoverLetterPrompt(params);

    try {
      const completion = await this.client.chat.completions.create({
        model: "gpt-4o-mini",
        messages: [
          {
            role: "system",
            content:
              "Ğ¢Ñ‹ Ğ¿Ñ€Ğ¾Ñ„ĞµÑÑĞ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¹ HR-ĞºĞ¾Ğ½ÑÑƒĞ»ÑŒÑ‚Ğ°Ğ½Ñ‚ Ğ¸ ĞºĞ¾Ğ¿Ğ¸Ñ€Ğ°Ğ¹Ñ‚ĞµÑ€. Ğ¢Ğ²Ğ¾Ñ Ğ·Ğ°Ğ´Ğ°Ñ‡Ğ° - ÑĞ¾Ğ·Ğ´Ğ°Ğ²Ğ°Ñ‚ÑŒ ÑƒĞ±ĞµĞ´Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ğµ ÑĞ¾Ğ¿Ñ€Ğ¾Ğ²Ğ¾Ğ´Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ğµ Ğ¿Ğ¸ÑÑŒĞ¼Ğ° Ğ´Ğ»Ñ Ğ¾Ñ‚ĞºĞ»Ğ¸ĞºĞ¾Ğ² Ğ½Ğ° Ğ²Ğ°ĞºĞ°Ğ½ÑĞ¸Ğ¸.",
          },
          {
            role: "user",
            content: prompt,
          },
        ],
        temperature: 0.7,
        max_tokens: 1000,
      });

      const coverLetter = completion.choices[0]?.message?.content?.trim() || "";

      if (!coverLetter) {
        this.logger.warn("âš ï¸ AI Ğ²ĞµÑ€Ğ½ÑƒĞ» Ğ¿ÑƒÑÑ‚Ğ¾Ğµ ÑĞ¾Ğ¿Ñ€Ğ¾Ğ²Ğ¾Ğ´Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾Ğµ Ğ¿Ğ¸ÑÑŒĞ¼Ğ¾");
        return this.generateFallbackCoverLetter(params);
      }

      this.logger.log(
        `âœ… Ğ¡Ğ¾Ğ¿Ñ€Ğ¾Ğ²Ğ¾Ğ´Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾Ğµ Ğ¿Ğ¸ÑÑŒĞ¼Ğ¾ ÑĞ³ĞµĞ½ĞµÑ€Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¾ (${coverLetter.length} ÑĞ¸Ğ¼Ğ²Ğ¾Ğ»Ğ¾Ğ²)`
      );
      return coverLetter;
    } catch (error: any) {
      this.logger.error(
        "Failed to generate cover letter with OpenAI",
        error.message
      );
      this.logger.warn("âš ï¸ Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ fallback ÑĞ¾Ğ¿Ñ€Ğ¾Ğ²Ğ¾Ğ´Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾Ğ³Ğ¾ Ğ¿Ğ¸ÑÑŒĞ¼Ğ°...");
      return this.generateFallbackCoverLetter(params);
    }
  }

  private buildCoverLetterPrompt(params: {
    vacancyTitle: string;
    vacancyDescription: string;
    company: string;
    userFirstName: string;
    userLastName: string;
    userExperience?: Array<{
      company: string;
      position: string;
      description: string;
      start: string;
      end?: string;
    }>;
    resumeSkills?: string[];
  }): string {
    const experienceSection =
      params.userExperience && params.userExperience.length > 0
        ? `
ĞœĞĞ™ ĞĞŸĞ«Ğ¢:
${params.userExperience
  .map(
    (exp, idx) => `
${idx + 1}. ${exp.position} Ğ² ${exp.company}
   ĞŸĞµÑ€Ğ¸Ğ¾Ğ´: ${exp.start} - ${exp.end || "Ğ½Ğ°ÑÑ‚Ğ¾ÑÑ‰ĞµĞµ Ğ²Ñ€ĞµĞ¼Ñ"}
   Ğ”Ğ¾ÑÑ‚Ğ¸Ğ¶ĞµĞ½Ğ¸Ñ: ${
     exp.description
       ? exp.description.substring(0, 300)
       : "Ğ Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° Ğ¸ Ğ¿Ğ¾Ğ´Ğ´ĞµÑ€Ğ¶ĞºĞ° Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ¾Ğ²"
   }...
`
  )
  .join("\n")}
`
        : "ĞĞ°Ñ‡Ğ¸Ğ½Ğ°ÑÑ‰Ğ¸Ğ¹ ÑĞ¿ĞµÑ†Ğ¸Ğ°Ğ»Ğ¸ÑÑ‚, Ğ³Ğ¾Ñ‚Ğ¾Ğ² Ğ°ĞºÑ‚Ğ¸Ğ²Ğ½Ğ¾ Ñ€Ğ°Ğ·Ğ²Ğ¸Ğ²Ğ°Ñ‚ÑŒÑÑ";

    const skillsSection =
      params.resumeSkills && params.resumeSkills.length > 0
        ? `\nĞšĞ›Ğ®Ğ§Ğ•Ğ’Ğ«Ğ• ĞĞĞ’Ğ«ĞšĞ˜: ${params.resumeSkills.slice(0, 15).join(", ")}`
        : "";

    return `
Ğ¢Ñ‹ Ğ¿Ñ€Ğ¾Ñ„ĞµÑÑĞ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¹ ĞºĞ¾Ğ¿Ğ¸Ñ€Ğ°Ğ¹Ñ‚ĞµÑ€ Ğ¸ HR-ĞºĞ¾Ğ½ÑÑƒĞ»ÑŒÑ‚Ğ°Ğ½Ñ‚. Ğ¢Ğ²Ğ¾Ñ Ğ·Ğ°Ğ´Ğ°Ñ‡Ğ° - ÑĞ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ Ğ£Ğ‘Ğ•Ğ”Ğ˜Ğ¢Ğ•Ğ›Ğ¬ĞĞĞ• ÑĞ¾Ğ¿Ñ€Ğ¾Ğ²Ğ¾Ğ´Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾Ğµ Ğ¿Ğ¸ÑÑŒĞ¼Ğ¾, ĞºĞ¾Ñ‚Ğ¾Ñ€Ğ¾Ğµ ĞŸĞ ĞĞ”ĞĞ¡Ğ¢ ĞºĞ°Ğ½Ğ´Ğ¸Ğ´Ğ°Ñ‚Ğ° Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ¾Ğ´Ğ°Ñ‚ĞµĞ»Ñ.

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ¯ Ğ§Ğ¢Ğ Ğ˜Ğ©Ğ•Ğ¢ Ğ ĞĞ‘ĞĞ¢ĞĞ”ĞĞ¢Ğ•Ğ›Ğ¬
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

**Ğ’Ğ°ĞºĞ°Ğ½ÑĞ¸Ñ:** ${params.vacancyTitle}
**ĞšĞ¾Ğ¼Ğ¿Ğ°Ğ½Ğ¸Ñ:** ${params.company}

**ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ Ğ¸ Ñ‚Ñ€ĞµĞ±Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ:**
${params.vacancyDescription.substring(0, 800)}${
      params.vacancyDescription.length > 800 ? "..." : ""
    }

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ’¼ Ğ§Ğ¢Ğ Ğ•Ğ¡Ğ¢Ğ¬ Ğ£ ĞšĞĞĞ”Ğ˜Ğ”ĞĞ¢Ğ
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Ğ˜Ğ¼Ñ: ${params.userFirstName} ${params.userLastName}

${experienceSection}
${skillsSection}

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
âœï¸ Ğ¢Ğ’ĞĞ¯ Ğ—ĞĞ”ĞĞ§Ğ
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

**Ğ¨ĞĞ“ 1: ĞĞĞĞ›Ğ˜Ğ— Ğ¡ĞĞĞ¢Ğ’Ğ•Ğ¢Ğ¡Ğ¢Ğ’Ğ˜Ğ¯**
- Ğ’Ğ½Ğ¸Ğ¼Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ Ğ¸Ğ·ÑƒÑ‡Ğ¸ Ñ‚Ñ€ĞµĞ±Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ Ğ²Ğ°ĞºĞ°Ğ½ÑĞ¸Ğ¸
- ĞĞ°Ğ¹Ğ´Ğ¸ Ğ² Ğ¾Ğ¿Ñ‹Ñ‚Ğµ ĞºĞ°Ğ½Ğ´Ğ¸Ğ´Ğ°Ñ‚Ğ° ĞšĞĞĞšĞ Ğ•Ğ¢ĞĞ«Ğ• Ğ´Ğ¾ĞºĞ°Ğ·Ğ°Ñ‚ĞµĞ»ÑŒÑÑ‚Ğ²Ğ°, Ñ‡Ñ‚Ğ¾ Ğ¾Ğ½ ÑƒĞ¼ĞµĞµÑ‚ Ñ‚Ğ¾, Ñ‡Ñ‚Ğ¾ Ğ½ÑƒĞ¶Ğ½Ğ¾
- ĞĞ¿Ñ€ĞµĞ´ĞµĞ»Ğ¸ ĞºĞ»ÑÑ‡ĞµĞ²Ñ‹Ğµ Ñ‚ĞµÑ…Ğ½Ğ¾Ğ»Ğ¾Ğ³Ğ¸Ğ¸/Ğ½Ğ°Ğ²Ñ‹ĞºĞ¸, ĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ğµ ÑĞ¾Ğ²Ğ¿Ğ°Ğ´Ğ°ÑÑ‚

**Ğ¨ĞĞ“ 2: ĞĞĞŸĞ˜Ğ¨Ğ˜ Ğ£Ğ‘Ğ•Ğ”Ğ˜Ğ¢Ğ•Ğ›Ğ¬ĞĞĞ• ĞŸĞ˜Ğ¡Ğ¬ĞœĞ**

Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° (500-1000 ÑĞ¸Ğ¼Ğ²Ğ¾Ğ»Ğ¾Ğ²):

**1. ĞšĞ Ğ®Ğ§ĞĞš (1-2 Ğ¿Ñ€ĞµĞ´Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ):**
"Ğ”Ğ¾Ğ±Ñ€Ñ‹Ğ¹ Ğ´ĞµĞ½ÑŒ! Ğ¯ ${
      params.userFirstName
    }, [Ğ´Ğ¾Ğ»Ğ¶Ğ½Ğ¾ÑÑ‚ÑŒ] Ñ Ğ¾Ğ¿Ñ‹Ñ‚Ğ¾Ğ¼ [X Ğ»ĞµÑ‚/Ğ¼ĞµÑÑÑ†ĞµĞ²] Ğ² [Ñ€ĞµĞ»ĞµĞ²Ğ°Ğ½Ñ‚Ğ½Ğ°Ñ Ğ¾Ğ±Ğ»Ğ°ÑÑ‚ÑŒ]. ĞœĞµĞ½Ñ Ğ·Ğ°Ğ¸Ğ½Ñ‚ĞµÑ€ĞµÑĞ¾Ğ²Ğ°Ğ»Ğ° Ğ¿Ğ¾Ğ·Ğ¸Ñ†Ğ¸Ñ ${
      params.vacancyTitle
    }, Ğ¸ Ñ ÑƒĞ²ĞµÑ€ĞµĞ½, Ñ‡Ñ‚Ğ¾ Ğ¼Ğ¾Ğ¹ Ğ¾Ğ¿Ñ‹Ñ‚ Ğ¸Ğ´ĞµĞ°Ğ»ÑŒĞ½Ğ¾ Ğ¿Ğ¾Ğ´Ñ…Ğ¾Ğ´Ğ¸Ñ‚ Ğ´Ğ»Ñ ÑÑ‚Ğ¾Ğ¹ Ñ€Ğ¾Ğ»Ğ¸."

**2. ĞŸĞĞ§Ğ•ĞœĞ£ Ğ¯ ĞŸĞĞ”Ğ¥ĞĞ–Ğ£ (2-3 ĞºĞ¾Ğ½ĞºÑ€ĞµÑ‚Ğ½Ñ‹Ñ… Ğ¿Ñ€Ğ¸Ğ¼ĞµÑ€Ğ°):**
Ğ’Ñ‹Ğ±ĞµÑ€Ğ¸ 2-3 Ğ¡ĞĞœĞ«Ğ¥ Ğ¡Ğ˜Ğ›Ğ¬ĞĞ«Ğ¥ ÑĞ¾Ğ²Ğ¿Ğ°Ğ´ĞµĞ½Ğ¸Ñ Ğ¼ĞµĞ¶Ğ´Ñƒ Ñ‚Ñ€ĞµĞ±Ğ¾Ğ²Ğ°Ğ½Ğ¸ÑĞ¼Ğ¸ Ğ²Ğ°ĞºĞ°Ğ½ÑĞ¸Ğ¸ Ğ¸ Ğ¾Ğ¿Ñ‹Ñ‚Ğ¾Ğ¼ ĞºĞ°Ğ½Ğ´Ğ¸Ğ´Ğ°Ñ‚Ğ°:

- "Ğ’ [ĞºĞ¾Ğ¼Ğ¿Ğ°Ğ½Ğ¸Ñ] Ñ [ĞºĞ¾Ğ½ĞºÑ€ĞµÑ‚Ğ½Ğ¾Ğµ Ğ´Ğ¾ÑÑ‚Ğ¸Ğ¶ĞµĞ½Ğ¸Ğµ Ñ Ñ†Ğ¸Ñ„Ñ€Ğ°Ğ¼Ğ¸], Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒÑ [Ñ‚ĞµÑ…Ğ½Ğ¾Ğ»Ğ¾Ğ³Ğ¸Ğ¸ Ğ¸Ğ· Ğ²Ğ°ĞºĞ°Ğ½ÑĞ¸Ğ¸]"
- "ĞœĞ¾Ğ¹ Ğ¾Ğ¿Ñ‹Ñ‚ Ñ [Ğ½Ğ°Ğ²Ñ‹Ğº Ğ¸Ğ· Ğ²Ğ°ĞºĞ°Ğ½ÑĞ¸Ğ¸] Ğ¿Ğ¾Ğ·Ğ²Ğ¾Ğ»Ğ¸Ğ» [Ğ¸Ğ·Ğ¼ĞµÑ€Ğ¸Ğ¼Ñ‹Ğ¹ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚]"
- "Ğ£ÑĞ¿ĞµÑˆĞ½Ğ¾ [Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ğµ], Ñ‡Ñ‚Ğ¾ Ğ¿Ñ€Ğ¸Ğ²ĞµĞ»Ğ¾ Ğº [Ğ±Ğ¸Ğ·Ğ½ĞµÑ-Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚]"

**3. ĞŸĞĞ§Ğ•ĞœĞ£ Ğ­Ğ¢Ğ ĞšĞĞœĞŸĞĞĞ˜Ğ¯:**
"ĞœĞµĞ½Ñ Ğ¾ÑĞ¾Ğ±ĞµĞ½Ğ½Ğ¾ Ğ¿Ñ€Ğ¸Ğ²Ğ»ĞµĞºĞ°ĞµÑ‚ ${
      params.company
    }, Ğ¿Ğ¾Ñ‚Ğ¾Ğ¼Ñƒ Ñ‡Ñ‚Ğ¾ [Ğ¿Ñ€Ğ¸Ñ‡Ğ¸Ğ½Ğ° Ğ½Ğ° Ğ¾ÑĞ½Ğ¾Ğ²Ğµ Ğ²Ğ°ĞºĞ°Ğ½ÑĞ¸Ğ¸: Ñ‚ĞµÑ…Ğ½Ğ¾Ğ»Ğ¾Ğ³Ğ¸Ğ¸/Ğ¿Ñ€Ğ¾Ğ´ÑƒĞºÑ‚/Ğ¿Ğ¾Ğ´Ñ…Ğ¾Ğ´/ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ğ°]"

**4. ĞŸĞ Ğ˜Ğ—Ğ«Ğ’ Ğš Ğ”Ğ•Ğ™Ğ¡Ğ¢Ğ’Ğ˜Ğ®:**
"Ğ‘ÑƒĞ´Ñƒ Ñ€Ğ°Ğ´ Ğ¾Ğ±ÑÑƒĞ´Ğ¸Ñ‚ÑŒ, ĞºĞ°Ğº Ğ¼Ğ¾Ğ¹ Ğ¾Ğ¿Ñ‹Ñ‚ Ğ¼Ğ¾Ğ¶ĞµÑ‚ Ğ¿Ñ€Ğ¸Ğ½ĞµÑÑ‚Ğ¸ Ğ¿Ğ¾Ğ»ÑŒĞ·Ñƒ Ğ²Ğ°ÑˆĞµĞ¹ ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ğµ. Ğ“Ğ¾Ñ‚Ğ¾Ğ² Ğ¿Ñ€Ğ¸ÑÑ‚ÑƒĞ¿Ğ¸Ñ‚ÑŒ Ğº Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğµ Ğ² ĞºÑ€Ğ°Ñ‚Ñ‡Ğ°Ğ¹ÑˆĞ¸Ğµ ÑÑ€Ğ¾ĞºĞ¸."

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
âš ï¸ Ğ’ĞĞ–ĞĞ«Ğ• ĞŸĞ ĞĞ’Ğ˜Ğ›Ğ
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

âœ… Ğ”Ğ•Ğ›ĞĞ™:
- Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞ¹ ĞšĞĞĞšĞ Ğ•Ğ¢ĞĞ«Ğ• Ğ¿Ñ€Ğ¸Ğ¼ĞµÑ€Ñ‹ Ğ¸Ğ· Ğ¾Ğ¿Ñ‹Ñ‚Ğ° ĞºĞ°Ğ½Ğ´Ğ¸Ğ´Ğ°Ñ‚Ğ°
- Ğ£Ğ¿Ğ¾Ğ¼Ğ¸Ğ½Ğ°Ğ¹ Ñ‚ĞµÑ…Ğ½Ğ¾Ğ»Ğ¾Ğ³Ğ¸Ğ¸/Ğ½Ğ°Ğ²Ñ‹ĞºĞ¸, ĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ğµ ĞµÑÑ‚ÑŒ Ğ˜ Ğ² Ğ²Ğ°ĞºĞ°Ğ½ÑĞ¸Ğ¸, Ğ˜ Ğ² Ñ€ĞµĞ·ÑĞ¼Ğµ
- Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ»ÑĞ¹ Ñ†Ğ¸Ñ„Ñ€Ñ‹ Ğ¸ Ğ¸Ğ·Ğ¼ĞµÑ€Ğ¸Ğ¼Ñ‹Ğµ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚Ñ‹ (ĞµÑĞ»Ğ¸ ĞµÑÑ‚ÑŒ Ğ² Ğ¾Ğ¿Ñ‹Ñ‚Ğµ)
- ĞŸĞ¸ÑˆĞ¸ Ğ¾Ñ‚ Ğ¿ĞµÑ€Ğ²Ğ¾Ğ³Ğ¾ Ğ»Ğ¸Ñ†Ğ° ("Ğ¯", "ĞœĞ¾Ğ¹ Ğ¾Ğ¿Ñ‹Ñ‚")
- Ğ¢Ğ¾Ğ½: ÑƒĞ²ĞµÑ€ĞµĞ½Ğ½Ñ‹Ğ¹, Ğ½Ğ¾ Ğ½Ğµ Ğ²Ñ‹ÑĞ¾ĞºĞ¾Ğ¼ĞµÑ€Ğ½Ñ‹Ğ¹

âŒ ĞĞ• Ğ”Ğ•Ğ›ĞĞ™:
- Ğ˜Ğ·Ğ±Ğ¸Ñ‚Ñ‹Ğµ Ñ„Ñ€Ğ°Ğ·Ñ‹: "Ğ¿Ñ€Ğ¾ÑˆÑƒ Ñ€Ğ°ÑÑĞ¼Ğ¾Ñ‚Ñ€ĞµÑ‚ÑŒ", "Ğ·Ğ°Ğ¸Ğ½Ñ‚ĞµÑ€ĞµÑĞ¾Ğ²Ğ°Ğ½ Ğ² ÑĞ¾Ñ‚Ñ€ÑƒĞ´Ğ½Ğ¸Ñ‡ĞµÑÑ‚Ğ²Ğµ"
- ĞĞ±Ñ‰Ğ¸Ğµ ÑĞ»Ğ¾Ğ²Ğ° Ğ±ĞµĞ· ĞºĞ¾Ğ½ĞºÑ€ĞµÑ‚Ğ¸ĞºĞ¸: "Ğ¾Ñ‚Ğ²ĞµÑ‚ÑÑ‚Ğ²ĞµĞ½Ğ½Ñ‹Ğ¹", "ĞºĞ¾Ğ¼Ğ¼ÑƒĞ½Ğ¸ĞºĞ°Ğ±ĞµĞ»ÑŒĞ½Ñ‹Ğ¹"
- ĞŸĞµÑ€ĞµÑ‡Ğ¸ÑĞ»ĞµĞ½Ğ¸Ğµ Ğ²ÑĞµÑ… Ğ½Ğ°Ğ²Ñ‹ĞºĞ¾Ğ² Ğ¿Ğ¾Ğ´Ñ€ÑĞ´
- Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ ĞºĞ¾Ğ½Ñ‚Ğ°ĞºÑ‚Ğ¾Ğ² Ğ² ĞºĞ¾Ğ½Ñ†Ğµ (Ğ¾Ğ½Ğ¸ ĞµÑÑ‚ÑŒ Ğ² Ñ€ĞµĞ·ÑĞ¼Ğµ)
- Ğ›Ğ¾Ğ¶ÑŒ Ğ¸Ğ»Ğ¸ Ğ¿Ñ€ĞµÑƒĞ²ĞµĞ»Ğ¸Ñ‡ĞµĞ½Ğ¸Ğµ (Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞ¹ Ğ¢ĞĞ›Ğ¬ĞšĞ Ñ€ĞµĞ°Ğ»ÑŒĞ½Ñ‹Ğ¹ Ğ¾Ğ¿Ñ‹Ñ‚)

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

**Ğ’ĞµÑ€Ğ½Ğ¸ Ğ¢ĞĞ›Ğ¬ĞšĞ Ñ‚ĞµĞºÑÑ‚ Ğ¿Ğ¸ÑÑŒĞ¼Ğ° (Ğ±ĞµĞ· Ğ·Ğ°Ğ³Ğ¾Ğ»Ğ¾Ğ²ĞºĞ¾Ğ², Ğ¿Ğ¾Ğ´Ğ¿Ğ¸ÑĞµĞ¹, ĞºĞ¾Ğ½Ñ‚Ğ°ĞºÑ‚Ğ¾Ğ²).**
`;
  }

  private generateFallbackCoverLetter(params: {
    vacancyTitle: string;
    company: string;
    userFirstName: string;
  }): string {
    return `Ğ”Ğ¾Ğ±Ñ€Ñ‹Ğ¹ Ğ´ĞµĞ½ÑŒ!

ĞœĞµĞ½Ñ Ğ·Ğ°Ğ¸Ğ½Ñ‚ĞµÑ€ĞµÑĞ¾Ğ²Ğ°Ğ»Ğ° Ğ²Ğ°ĞºĞ°Ğ½ÑĞ¸Ñ "${params.vacancyTitle}" Ğ² ${params.company}. Ğ¯ ${params.userFirstName}, Ğ¸ ÑÑ‡Ğ¸Ñ‚Ğ°Ñ, Ñ‡Ñ‚Ğ¾ Ğ¼Ğ¾Ğ¹ Ğ¾Ğ¿Ñ‹Ñ‚ Ğ¸ Ğ½Ğ°Ğ²Ñ‹ĞºĞ¸ Ğ¾Ñ‚Ğ»Ğ¸Ñ‡Ğ½Ğ¾ Ğ¿Ğ¾Ğ´Ñ…Ğ¾Ğ´ÑÑ‚ Ğ´Ğ»Ñ ÑÑ‚Ğ¾Ğ¹ Ğ¿Ğ¾Ğ·Ğ¸Ñ†Ğ¸Ğ¸.

Ğ’ ÑĞ²Ğ¾ĞµĞ¹ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğµ Ñ ÑƒÑĞ¿ĞµÑˆĞ½Ğ¾ Ğ¿Ñ€Ğ¸Ğ¼ĞµĞ½ÑĞ» ÑĞ¾Ğ²Ñ€ĞµĞ¼ĞµĞ½Ğ½Ñ‹Ğµ Ñ‚ĞµÑ…Ğ½Ğ¾Ğ»Ğ¾Ğ³Ğ¸Ğ¸ Ğ¸ Ğ¿Ğ¾Ğ´Ñ…Ğ¾Ğ´Ñ‹ Ğ´Ğ»Ñ Ñ€ĞµÑˆĞµĞ½Ğ¸Ñ ÑĞ»Ğ¾Ğ¶Ğ½Ñ‹Ñ… Ğ·Ğ°Ğ´Ğ°Ñ‡, Ğ²ÑĞµĞ³Ğ´Ğ° ÑÑ‚Ñ€ĞµĞ¼Ğ»ÑÑÑŒ Ğº Ğ´Ğ¾ÑÑ‚Ğ¸Ğ¶ĞµĞ½Ğ¸Ñ Ğ¸Ğ·Ğ¼ĞµÑ€Ğ¸Ğ¼Ñ‹Ñ… Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚Ğ¾Ğ² Ğ¸ Ğ³Ğ¾Ñ‚Ğ¾Ğ² Ğ°ĞºÑ‚Ğ¸Ğ²Ğ½Ğ¾ Ñ€Ğ°Ğ·Ğ²Ğ¸Ğ²Ğ°Ñ‚ÑŒÑÑ Ğ²Ğ¼ĞµÑÑ‚Ğµ Ñ ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ğ¾Ğ¹.

Ğ‘ÑƒĞ´Ñƒ Ñ€Ğ°Ğ´ Ğ¾Ğ±ÑÑƒĞ´Ğ¸Ñ‚ÑŒ Ğ´ĞµÑ‚Ğ°Ğ»Ğ¸ Ğ¼Ğ¾ĞµĞ³Ğ¾ Ğ¾Ğ¿Ñ‹Ñ‚Ğ° Ğ¸ Ğ²Ğ¾Ğ·Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ÑÑ‚Ğ¸ ÑĞ¾Ñ‚Ñ€ÑƒĞ´Ğ½Ğ¸Ñ‡ĞµÑÑ‚Ğ²Ğ°.

Ğ¡ ÑƒĞ²Ğ°Ğ¶ĞµĞ½Ğ¸ĞµĞ¼,
${params.userFirstName}`;
  }
}
